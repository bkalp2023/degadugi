(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1226:function(e,t,r){Promise.resolve().then(r.bind(r,7054))},7054:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return j}});var s=r(7437),a=r(2265),n=r(9354);let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});o.displayName="Card",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})}).displayName="CardHeader",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})}).displayName="CardTitle",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})}).displayName="CardDescription";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});l.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter";let i=a.forwardRef((e,t)=>{let{className:r,type:a,...o}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...o})});i.displayName="Input";var d=r(3355);let c=(0,r(3027).j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=a.forwardRef((e,t)=>{let{className:r,variant:a,size:o,asChild:l=!1,...i}=e,u=l?d.g7:"button";return(0,s.jsx)(u,{className:(0,n.cn)(c({variant:a,size:o,className:r})),ref:t,...i})});u.displayName="Button";var f=r(6763),p=r(2493);function m(e){let{receivedIp:t}=e,[r,n]=(0,a.useState)(""),{toast:o}=(0,f.pm)();(0,a.useEffect)(()=>{t&&n(t)},[t]);let l=e=>{if("string"!=typeof e)return!1;let t=e.split(".");return 4===t.length&&t.every(e=>{if(!/^\d{1,3}$/.test(e)||e.length>1&&e.startsWith("0"))return!1;let t=parseInt(e,10);return t>=0&&t<=255})};return(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),l(r))try{let e=new URL("http://".concat(r,"/app"));window.open(e.toString(),"_blank")}catch(e){o({variant:"destructive",title:"Invalid URL",description:"Could not construct a valid URL from the IP address."})}else o({variant:"destructive",title:"Invalid IP Address",description:"Please enter a valid IP address to connect."})},className:"flex w-full max-w-sm items-center space-x-2",children:[(0,s.jsx)(i,{type:"text",placeholder:"Enter IP address e.g., 192.168.1.1",value:r,onChange:e=>{n(e.target.value.replace(/[^0-9.]/g,""))},className:"flex-grow rounded-full border border-white/20 bg-white/10 px-4 py-5 font-medium text-white shadow-lg backdrop-blur-md placeholder:text-gray-300 focus:ring-2 focus:ring-white/50","aria-label":"IP Address Input",pattern:"\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}",title:"Please enter a valid IP address"}),l(r)&&(0,s.jsx)(u,{type:"submit",size:"icon",className:"h-11 w-11 shrink-0 rounded-full border border-white/20 bg-white/10 text-white shadow-lg backdrop-blur-md transition-all duration-300 hover:bg-white/20 hover:shadow-md",children:(0,s.jsx)(p.Z,{className:"h-5 w-5"})})]})}var g=r(7586);function x(e){let{value:t}=e;return(0,s.jsx)("div",{className:"relative w-full h-full flex items-center justify-center","data-qr-value":t,children:(0,s.jsx)(g.Qd,{value:t,size:250,bgColor:"#ffffff",fgColor:"#000000",level:"L",includeMargin:!1,className:"w-full h-full object-contain"})})}var h=r(920),w=r(6508),b=JSON.parse('{"windows":"https://example.com/downloads/DegaDugiSetup.exe","macos":"https://example.com/downloads/DegaDugi.dmg","linux":"https://example.com/downloads/DegaDugi.AppImage","android":"https://play.google.com/store/apps/details?id=com.degadugi.app","ios":"https://apps.apple.com/app/id1234567890"}');function v(){let e=function(){let[e,t]=(0,a.useState)("unknown");return(0,a.useEffect)(()=>{t((()=>{let e=window.navigator.userAgent.toLowerCase();return/windows/.test(e)?"windows":/macintosh|mac os x/.test(e)?"macos":/linux/.test(e)&&!/android/.test(e)?"linux":/android/.test(e)?"android":/iphone|ipad|ipod/.test(e)?"ios":"unknown"})())},[]),e}(),[t,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{r(!0)},[]),(0,s.jsxs)("div",{className:"flex flex-col items-center text-center md:items-start md:text-left mb-8 md:mb-16",children:[(0,s.jsx)("h1",{className:"font-headline font-extrabold tracking-tight text-white leading-tight mt-12 md:mt-0 text-[clamp(2.5rem,10vw,8rem)]",style:{textShadow:"2px 2px 8px rgba(0,0,0,0.5)"},children:"DegaDugi"}),(0,s.jsx)("p",{className:"mt-12 max-w-lg text-gray-200 text-[clamp(1rem,1.6vw,1.3rem)] leading-relaxed",children:"Connect seamlessly to your DegaDugi Web App or download now to get started with our app."}),(0,s.jsx)("div",{className:"mt-8",children:(()=>{let r="mt-8 rounded-full border border-white/20 bg-white/10 px-10 py-6 text-lg text-white shadow-lg backdrop-blur-md";if(!t)return(0,s.jsx)("div",{className:(0,n.cn)(r,"invisible")});let a={size:"lg",className:(0,n.cn)(r,"unknown"===e?"invisible":"visible")},o="unknown"!==e?b[e]:void 0,l=e.charAt(0).toUpperCase()+e.slice(1);return o?(0,s.jsx)("a",{href:o,target:"_blank",rel:"noopener noreferrer",children:(0,s.jsxs)(u,{...a,className:(0,n.cn)(a.className,"hover:bg-white/20 hover:shadow-[0_0_20px_5px] hover:shadow-blue-500/30"),children:[(0,s.jsx)(w.Z,{className:"h-6 w-6"}),"Download"]})}):(0,s.jsx)(u,{...a,disabled:"unknown"===e||!o,children:"unknown"===e?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(w.Z,{className:"h-6 w-6"}),"Download"]}):"Coming soon to ".concat(l)})})()}),(0,s.jsx)("div",{className:"mt-5"})]})}var y=r(2207);function j(){let[e,t]=(0,a.useState)(null),[r,n]=(0,a.useState)(null),[i,d]=(0,a.useState)("disconnected"),[c,f]=(0,a.useState)(""),p=(0,a.useCallback)(()=>{let e=(0,h.Z)();t(e),d("connecting");let r=new WebSocket("wss://ws.futureforce.ee/?p=Degadugi&r=".concat(e));return r.onopen=()=>{d("connected")},r.onmessage=e=>{try{let t=JSON.parse(e.data);t.ip_address&&(f(t.ip_address),window.open("http://".concat(t.ip_address,"/app"),"_blank"))}catch(e){}},r.onerror=()=>{d("failed")},r.onclose=()=>{"failed"!==i&&d("disconnected")},n(r),()=>{r.close()}},[]);(0,a.useEffect)(()=>{p()},[]);let g="connecting"===i,w="connected"===i&&e;return(0,s.jsx)("main",{className:"flex min-h-screen items-end justify-center p-4 pb-24 md:items-center md:p-8",children:(0,s.jsx)("div",{className:"w-full max-w-6xl",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 items-center gap-2 md:grid-cols-2 md:gap-12 lg:gap-16 xl:gap-24",children:[(0,s.jsx)(v,{}),(0,s.jsxs)("div",{className:"flex w-full max-w-xs flex-col items-center gap-6 justify-self-center md:justify-self-end",children:[(0,s.jsx)(o,{className:"w-full overflow-hidden rounded-2xl border border-white/20 bg-white/10 p-2 shadow-xl backdrop-blur-lg",children:(0,s.jsx)(l,{className:"flex w-full flex-col p-4 gap-4",children:(0,s.jsx)("div",{className:"relative aspect-square w-full overflow-hidden rounded-lg bg-white",children:w?(0,s.jsx)(x,{value:e}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"blur-md absolute inset-0 flex flex-col items-center justify-center gap-4 rounded-lg bg-black/30",children:(0,s.jsx)(x,{value:e||"loading"})}),(0,s.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-4 rounded-lg bg-black/30",children:(0,s.jsxs)(u,{onClick:()=>{r&&r.close(),p()},disabled:g,className:"rounded-full border border-white/20 bg-white/10 px-6 py-4 text-white shadow-lg backdrop-blur-md transition-all duration-300 hover:bg-white/20 hover:shadow-md",children:[(0,s.jsx)(y.Z,{className:"mr-2 h-4 w-4 ".concat(g?"animate-spin":"")}),g?"Generating...":"Generate QR Code"]})})]})})})}),(0,s.jsx)(m,{receivedIp:c}),(0,s.jsx)("p",{className:"max-w-xs text-center text-sm text-gray-200",children:"Scan the QR code or enter your appâ€™s IP address to connect."})]})]})})})}},6763:function(e,t,r){"use strict";r.d(t,{pm:function(){return f}});var s=r(2265);let a=0,n=new Map,o=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?o(r):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},i=[],d={toasts:[]};function c(e){d=l(d,e),i.forEach(e=>{e(d)})}function u(e){let{...t}=e,r=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:r});return c({type:"ADD_TOAST",toast:{...t,id:r,open:!0,onOpenChange:e=>{e||s()}}}),{id:r,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:r}})}}function f(){let[e,t]=s.useState(d);return s.useEffect(()=>(i.push(t),()=>{let e=i.indexOf(t);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},9354:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(4839),a=r(6164);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}}},function(e){e.O(0,[921,394,971,23,744],function(){return e(e.s=1226)}),_N_E=e.O()}]);